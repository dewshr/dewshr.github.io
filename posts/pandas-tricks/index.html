<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Pandas Tricks" /><meta name="author" content="Dewan Shrestha" /><meta property="og:locale" content="en" /><meta name="description" content="Splitting a row into multiple rows based on substring in a specific column" /><meta property="og:description" content="Splitting a row into multiple rows based on substring in a specific column" /><link rel="canonical" href="/posts/pandas-tricks/" /><meta property="og:url" content="/posts/pandas-tricks/" /><meta property="og:site_name" content="Dewan Shrestha" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-08-24T21:45:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Pandas Tricks" /><meta name="twitter:site" content="@dewshrs" /><meta name="twitter:creator" content="@Dewan Shrestha" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Dewan Shrestha"},"dateModified":"2022-10-20T04:14:47+00:00","datePublished":"2022-08-24T21:45:00+00:00","description":"Splitting a row into multiple rows based on substring in a specific column","headline":"Pandas Tricks","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/pandas-tricks/"},"url":"/posts/pandas-tricks/"}</script><title>Pandas Tricks | Dewan Shrestha</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Dewan Shrestha"><meta name="application-name" content="Dewan Shrestha"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://pbs.twimg.com/profile_images/1106327178382397440/yCl9Agfr_400x400.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Dewan Shrestha</a></div><div class="site-subtitle font-italic">Bioinformatics</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/dewshr" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/dewshrs" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['dewshrs','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Pandas Tricks</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Pandas Tricks</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1661377500" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Aug 24, 2022 </em> </span> <span> Updated <em class="" data-ts="1666239287" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Oct 19, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> Dewan Shrestha </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="466 words"> <em>2 min</em> read</span></div></div></div><div class="post-content"><h2 id="splitting-a-row-into-multiple-rows-based-on-substring-in-a-specific-column"><span class="mr-2">Splitting a row into multiple rows based on substring in a specific column</span><a href="#splitting-a-row-into-multiple-rows-based-on-substring-in-a-specific-column" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Here I have a dataframe with 3 columns <code class="language-plaintext highlighter-rouge">(p1, p2 and tissue)</code>. In column <code class="language-plaintext highlighter-rouge">p2</code> I have 2 genes separated by <strong><code class="language-plaintext highlighter-rouge">';'</code></strong></p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span data-label-text="Ruby"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="n">import</span> <span class="n">pandas</span> <span class="n">as</span> <span class="n">pd</span>

<span class="n">pp</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">read_csv</span><span class="p">(</span><span class="s1">'promoter_promoter.csv'</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">'p1'</span><span class="p">,</span><span class="s1">'p2'</span><span class="p">,</span><span class="s1">'tissue'</span><span class="p">])</span>

<span class="n">pp</span><span class="p">.</span><span class="nf">head</span><span class="p">()</span>
</pre></table></code></div></div><p><img data-src="/assets/img/pandas_tricks/pandas_tricks1.png" alt="pandas_tricks1" data-proofer-ignore></p><p>You can split each of those rows into separate rows by:</p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span data-label-text="Ruby"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="n">pp</span> <span class="o">=</span> <span class="n">pp</span><span class="p">.</span><span class="nf">assign</span><span class="p">(</span><span class="n">p2</span><span class="o">=</span><span class="n">pp</span><span class="p">[</span><span class="s2">"p2"</span><span class="p">].</span><span class="nf">str</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="s2">";"</span><span class="p">)).</span><span class="nf">explode</span><span class="p">(</span><span class="s2">"p2"</span><span class="p">)</span>

<span class="n">pp</span><span class="p">.</span><span class="nf">head</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
</pre></table></code></div></div><p><img data-src="/assets/img/pandas_tricks/pandas_tricks2.png" alt="pandas_tricks2" data-proofer-ignore></p><p><strong>You can just use explode if the values are list. Inn the example below is the interaction data where one regions <code class="language-plaintext highlighter-rouge">(a1)</code> is interacting with multiple region <code class="language-plaintext highlighter-rouge">(a2)</code> which are presented in a list</strong></p><p><img data-src="/assets/img/pandas_tricks/pandas_explode_row.png" alt="pandas_explode_row" data-proofer-ignore></p><p><br /></p><h2 id="splitting-index-into-separate-columns"><span class="mr-2">Splitting index into separate columns</span><a href="#splitting-index-into-separate-columns" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Lets say, we have a dataframe of interaction data with genomic region and gene it is interacting with. As shown in the figure below, the genomic coordinates is the index, and we want to split the index into 3 separate columns which can be done by:</p><p><code class="language-plaintext highlighter-rouge">data[['chr','start','stop']] = list(data.index.str.replace(':','-').str.split('-'))</code></p><p><img data-src="/assets/img/pandas_tricks/split_index.png" alt="split_index" data-proofer-ignore></p><p><br /></p><h2 id="filter-out-the-rows-only-selecting-minimum-value-based-on-a-specific-column"><span class="mr-2">Filter out the rows only selecting minimum value based on a specific column</span><a href="#filter-out-the-rows-only-selecting-minimum-value-based-on-a-specific-column" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>I mainly use this to filter out the output file from program <a href="https://meme-suite.org/meme/tools/fimo">fimo</a>. While scanning for motifs in a given sequnce, there can be multiple region within the sequence where a motif can be found. And I only want to keep those regions with the most significant motifs if there are multiple motifs identified in a given sequence. Here, in this dataframe, <code class="language-plaintext highlighter-rouge">chr10:103057760-103058020</code> and <code class="language-plaintext highlighter-rouge">chrX:23926122-23926382</code> has motifs in two positions and <code class="language-plaintext highlighter-rouge">chr10:103362455-103362715</code> in three.</p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span data-label-text="Ruby"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="n">import</span> <span class="n">pandas</span> <span class="n">as</span> <span class="n">pd</span>

<span class="n">fimo_df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">read_csv</span><span class="p">(</span><span class="s1">'fimo.tsv'</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="s1">'\t'</span><span class="p">).</span><span class="nf">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">3</span><span class="p">,:]</span>

<span class="n">fimo_df</span><span class="p">.</span><span class="nf">head</span><span class="p">()</span>
</pre></table></code></div></div><p><img data-src="/assets/img/pandas_tricks/fimo_filter1.png" alt="fimp_filter1" data-proofer-ignore></p><p>I am using <code class="language-plaintext highlighter-rouge">iloc</code> to remove last 3 rows from the fimo output file, which contains program run information. Now, since there are mulitple values for same <code class="language-plaintext highlighter-rouge">sequence_name</code>, I will only be keeping the one with lowest <code class="language-plaintext highlighter-rouge">p-value</code></p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span data-label-text="Ruby"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="n">fimo_df</span> <span class="o">=</span> <span class="n">fimo_df</span><span class="p">.</span><span class="nf">loc</span><span class="p">[</span><span class="n">fimo_df</span><span class="p">.</span><span class="nf">groupby</span><span class="p">(</span><span class="s1">'sequence_name'</span><span class="p">)[</span><span class="s1">'p-value'</span><span class="p">].</span><span class="nf">idxmin</span><span class="p">()]</span>

<span class="n">fimo_df</span><span class="p">.</span><span class="nf">head</span><span class="p">()</span>
</pre></table></code></div></div><p><img data-src="/assets/img/pandas_tricks/fimo_filter2.png" alt="fimp_filter2" data-proofer-ignore></p><p><br /></p><h2 id="filtering-dataframe-if-substring-in-a-column-matches-to-any-elements-of-a-list"><span class="mr-2">Filtering dataframe if substring in a column matches to any elements of a list</span><a href="#filtering-dataframe-if-substring-in-a-column-matches-to-any-elements-of-a-list" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Lets assume we have a dataframe as below:</p><p><code class="language-plaintext highlighter-rouge">df.head()</code> <img data-src="/assets/img/pandas_tricks/pandas_tricks3.png" alt="pandas_tricks3" data-proofer-ignore></p><p>And we want to filter out the dataframe based on our list of transcription factors (TF) as: <code class="language-plaintext highlighter-rouge">tf_list = ['BATF','PBX3']</code></p><p>Since, the TF we are interested is a substring in column <code class="language-plaintext highlighter-rouge">motif_id</code>, we can’t use <code class="language-plaintext highlighter-rouge">df[df['motif_id']].isin(tf_list)</code>. So, we can achieve that by:</p><p><img data-src="/assets/img/pandas_tricks/pandas_tricks4.png" alt="pandas_tricks4" data-proofer-ignore></p><p>In the code, above we are also using <code class="language-plaintext highlighter-rouge">.upper()</code> function to convert all letters to uppercase if there are any lowercase letters.</p><h2 id="merge-multiple-dataframes-based-on-a-column"><span class="mr-2">Merge multiple dataframes based on a column</span><a href="#merge-multiple-dataframes-based-on-a-column" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Here, there are 4 dataframes, and I want to merge them based on the common column name <code class="language-plaintext highlighter-rouge">id</code>.</p><div class="language-py highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="nb">reduce</span>

<span class="n">df_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">df3</span><span class="p">,</span> <span class="n">df4</span><span class="p">]</span>

<span class="n">merged_df</span> <span class="o">=</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="n">pd</span><span class="p">.</span><span class="n">merge</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s">'id'</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s">'outer'</span><span class="p">),</span> <span class="n">df_list</span><span class="p">)</span>

<span class="n">merged_df</span> <span class="o">=</span> <span class="n">merged_df</span><span class="p">.</span><span class="n">dropna</span><span class="p">()</span>
</pre></table></code></div></div><h2 id="compare-if-two-columns-are-equal-in-pandas-dataframe"><span class="mr-2">Compare if two columns are equal in pandas dataframe</span><a href="#compare-if-two-columns-are-equal-in-pandas-dataframe" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-py highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">df</span><span class="p">[</span><span class="s">'column1'</span><span class="p">].</span><span class="n">equals</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s">'column2'</span><span class="p">])</span>
</pre></table></code></div></div><p>This will <code class="language-plaintext highlighter-rouge">True</code> or <code class="language-plaintext highlighter-rouge">False</code> as output.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/python/'>python</a>, <a href='/categories/pandas/'>pandas</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/pandas/" class="post-tag no-text-decoration" >pandas</a> <a href="/tags/filter/" class="post-tag no-text-decoration" >filter</a> <a href="/tags/fimo/" class="post-tag no-text-decoration" >fimo</a> <a href="/tags/tricks/" class="post-tag no-text-decoration" >tricks</a> <a href="/tags/split/" class="post-tag no-text-decoration" >split</a> <a href="/tags/transription-factors/" class="post-tag no-text-decoration" >transription_factors</a> <a href="/tags/merge/" class="post-tag no-text-decoration" >merge</a> <a href="/tags/reduce/" class="post-tag no-text-decoration" >reduce</a> <a href="/tags/compare/" class="post-tag no-text-decoration" >compare</a> <a href="/tags/equal/" class="post-tag no-text-decoration" >equal</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Pandas+Tricks+-+Dewan+Shrestha&url=%2Fposts%2Fpandas-tricks%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Pandas+Tricks+-+Dewan+Shrestha&u=%2Fposts%2Fpandas-tricks%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=%2Fposts%2Fpandas-tricks%2F&text=Pandas+Tricks+-+Dewan+Shrestha" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/public-data-links/">Download links for public data and tools</a><li><a href="/posts/creating-genome-index-file/">Create Genome Index file to map sequencing data</a><li><a href="/posts/creating-multiple-subplots-using-seaborn-python/">Creating Multiple Subplots in One Figure Using Seaborn Python</a><li><a href="/posts/add-count-numbers-on-box-plot/">Add frequency count for each category on box plot</a><li><a href="/posts/pandas-tricks/">Pandas Tricks</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/seaborn/">seaborn</a> <a class="post-tag" href="/tags/genetics/">genetics</a> <a class="post-tag" href="/tags/awk/">awk</a> <a class="post-tag" href="/tags/pandas/">pandas</a> <a class="post-tag" href="/tags/bedtools/">bedtools</a> <a class="post-tag" href="/tags/bioinformatics/">bioinformatics</a> <a class="post-tag" href="/tags/data/">data</a> <a class="post-tag" href="/tags/dna/">DNA</a> <a class="post-tag" href="/tags/download/">download</a> <a class="post-tag" href="/tags/matplotlib/">matplotlib</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/divide-dataframe-into-bins/"><div class="card-body"> <em class="small" data-ts="1665001800" data-df="ll" > Oct 5, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Divide pandas dataframe into bins</h3><div class="text-muted small"><p> Dividing pandas dataframe into bins using qcut and cut Lets use a sample dataframe 1 2 df = sns.load_dataset(&#39;iris&#39;) df.head() Lets say we want to divide the dataframe into 5 bins based on the ...</p></div></div></a></div><div class="card"> <a href="/posts/linux-tips/"><div class="card-body"> <em class="small" data-ts="1661193000" data-df="ll" > Aug 22, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Linux Tips</h3><div class="text-muted small"><p> Create a directory with multiple sub-directories mkdir -p output_folder/{raw_data,temp_data,result,log_folder} Go to specific line number using vi vi +14 filename This will open the file at lin...</p></div></div></a></div><div class="card"> <a href="/posts/pandas-proportion-plot/"><div class="card-body"> <em class="small" data-ts="1666036800" data-df="ll" > Oct 17, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Bar plot based on proportion for each individual group</h3><div class="text-muted small"><p> Lets load the dataset 1 2 3 4 5 6 7 8 9 10 11 12 import pandas as pd import seaborn as sns df = sns.load_dataset(&#39;tips&#39;) df.head() total_bill tip sex smoker day time size 0 16.99 1.01 Female No ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/cheat-sheets/" class="btn btn-outline-primary" prompt="Older"><p>Cheat Sheet</p></a> <a href="/posts/bedtools-closest/" class="btn btn-outline-primary" prompt="Newer"><p>Finding closest gene to the given genomic region</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/dewshrs">Dewan Shrestha</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/seaborn/">seaborn</a> <a class="post-tag" href="/tags/genetics/">genetics</a> <a class="post-tag" href="/tags/awk/">awk</a> <a class="post-tag" href="/tags/pandas/">pandas</a> <a class="post-tag" href="/tags/bedtools/">bedtools</a> <a class="post-tag" href="/tags/bioinformatics/">bioinformatics</a> <a class="post-tag" href="/tags/data/">data</a> <a class="post-tag" href="/tags/dna/">DNA</a> <a class="post-tag" href="/tags/download/">download</a> <a class="post-tag" href="/tags/matplotlib/">matplotlib</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
